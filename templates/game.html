{% extends "base.html" %}

{% block title %}게임 플레이{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/game.css') }}">
{% endblock %}

{% block content %}
<div class="container">
    <h1 id="room-title">{{ room_name }}</h1>
    
    <button id="leave-button" class="btn btn-danger">게임 나가기</button>
    
    <div class="player-area">
        <h3>참가자 목록</h3>
        <div id="players" class="players-grid"></div>
    </div>

    <button id="start-button" style="display: none;">게임 시작</button>

    <div class="game-area">
        <div id="current-turn" class="turn-indicator"></div>
        <form id="guess-form" style="display: none;">
            <input type="text" id="guess" placeholder="추측할 단어를 입력하세요" autocomplete="off">
            <button type="submit" id="submit-guess">추측하기</button>
        </form>
        <div id="error" class="error-message" style="display: none;"></div>
    </div>

    <div class="log-area">
        <h3>추측 기록</h3>
        <table id="guesses">
            <thead>
                <tr>
                    <th>#</th>
                    <th>플레이어</th>
                    <th>추측 단어</th>
                    <th>유사도</th>
                    <th>시간</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
<script>
    // 서버에서 전달받은 변수들을 전역 변수로 설정
    window.ROOM_ID = '{{ room_id }}';
    window.USERNAME = '{{ username }}';
</script>
<script src="{{ url_for('static', filename='js/game.js') }}"></script>
{% endblock %}
